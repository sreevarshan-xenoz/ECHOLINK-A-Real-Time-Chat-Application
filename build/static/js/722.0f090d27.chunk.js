"use strict";(self.webpackChunkuntitled=self.webpackChunkuntitled||[]).push([[722],{69722:(e,s,r)=>{r.r(s),r.d(s,{default:()=>Z});var t=r(65043),n=r(26462),a=r(13294),i=r(61677),l=(r(58900),r(30047),r(10801),r(92073));r(46256);const o=(0,t.lazy)((()=>r.e(562).then(r.bind(r,85562)).then((e=>({default:e.default}))))),d=(0,t.lazy)((()=>r.e(902).then(r.bind(r,47902)).then((e=>({default:e.default}))))),c=(0,t.lazy)((()=>Promise.all([r.e(956),r.e(750)]).then(r.bind(r,20369)).then((e=>({default:e.default}))))),u=(0,t.lazy)((()=>Promise.all([r.e(956),r.e(971)]).then(r.bind(r,38971)).then((e=>({default:e.default}))))),h=(0,t.lazy)((()=>r.e(230).then(r.bind(r,23230)).then((e=>({default:e.default}))))),x=(0,t.lazy)((()=>r.e(937).then(r.bind(r,53937)).then((e=>({default:e.default}))))),g=(0,t.lazy)((()=>Promise.all([r.e(956),r.e(653)]).then(r.bind(r,66653)).then((e=>({default:e.default}))))),b=(0,t.lazy)((()=>Promise.all([r.e(956),r.e(305),r.e(795)]).then(r.bind(r,44795)).then((e=>({default:e.default})))));var m=r(5371),p=r(39081),f=r(44093),j=r(22107),y=r(83169),S=r(24330),k=r(87139),z=r(48239),C=r(96148),w=r(98662),v=r(30502),I=r(82377),E=r(28846),A=r(73669),R=r(42703),D=r(10202),T=r(35699),M=r(82459),W=r(76659),O=r(43533),P=r(45973),L=r(29244),_=r(80210),$=r(97359),F=r(3109),N=r(31411),U=r(14566),H=r(51794),V=r(10227),G=r(60184),K=r(81355),Y=r(70579);const B=()=>{const[e,s]=(0,t.useState)(0),[r,n]=(0,t.useState)(!1),a=(0,f.dU)("blue.200","gray.600"),i=(0,f.dU)("blue.50","gray.700"),l=(0,f.dU)("white","gray.800"),o=(0,f.dU)("gray.50","gray.800"),d=()=>(0,Y.jsx)(j.a,{p:4,textAlign:"center",children:(0,Y.jsx)(W.y,{size:"md",color:(0,f.dU)("blue.500","blue.300")})});return(0,Y.jsxs)(j.a,{bg:o,borderRadius:"md",borderWidth:"1px",borderColor:a,mb:4,children:[(0,Y.jsxs)(m.s,{align:"center",p:3,borderBottomWidth:r?"1px":"0",borderColor:a,justifyContent:"space-between",cursor:"pointer",onClick:()=>{n(!r)},children:[(0,Y.jsxs)(m.s,{align:"center",children:[(0,Y.jsx)(_.h,{icon:G.FSj,size:16,mr:2}),(0,Y.jsx)(E.D,{size:"sm",children:"Coding Platforms"})]}),(0,Y.jsx)(_.h,{icon:r?G.Ucs:G.Vr3,size:14})]}),(0,Y.jsx)($.S,{in:r,animateOpacity:!0,children:(0,Y.jsxs)(F.t,{isFitted:!0,variant:"enclosed",index:e,onChange:e=>{s(e)},colorScheme:0===e?"blue":"green",children:[(0,Y.jsxs)(N.w,{mb:"1em",children:[(0,Y.jsx)(U.o,{_selected:{bg:l,borderBottomColor:l},bg:i,borderTopRadius:"md",children:(0,Y.jsxs)(m.s,{align:"center",children:[(0,Y.jsx)(_.h,{icon:K.efW,size:14,mr:2}),"LeetCode"]})}),(0,Y.jsx)(U.o,{_selected:{bg:l,borderBottomColor:l},bg:i,borderTopRadius:"md",children:(0,Y.jsxs)(m.s,{align:"center",children:[(0,Y.jsx)(_.h,{icon:G.uGw,size:14,mr:2}),"HackerRank"]})})]}),(0,Y.jsxs)(H.T,{children:[(0,Y.jsx)(V.K,{p:0,children:(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(d,{}),children:(0,Y.jsx)(c,{})})}),(0,Y.jsx)(V.K,{p:0,children:(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(d,{}),children:(0,Y.jsx)(u,{})})})]})]})})]})},q=(0,t.memo)((e=>{let{status:s,timestamp:r}=e;return(0,Y.jsxs)(m.s,{alignItems:"center",fontSize:"xs",color:"gray.500",children:[s&&(0,Y.jsx)(p.E,{color:(()=>{switch(s){case"sending":default:return"gray.400";case"sent":case"delivered":return"blue.400";case"read":return"green.400";case"error":return"red.400";case"queued":return"yellow.400"}})(),mr:1,fontWeight:"bold",children:(()=>{switch(s){case"sending":return"\u25cf";case"sent":return"\u2713";case"delivered":case"read":return"\u2713\u2713";case"error":return"!";case"queued":return"\u23f1";default:return""}})()}),r&&(0,Y.jsx)(p.E,{children:new Date(r).toLocaleTimeString()})]})})),Q=(0,t.memo)((e=>{var s;let{message:r,onReaction:n,onRetry:a,onMarkAsRead:i,onDelete:l}=e;const o="user"===r.sender,{colorMode:d}=(0,f.G6)();return(0,t.useEffect)((()=>{"user"!==r.sender&&"read"!==r.status&&i(r)}),[r,i]),(0,Y.jsxs)(j.a,{alignSelf:o?"flex-end":"flex-start",maxWidth:"80%",mb:3,children:[(0,Y.jsx)(y.Z,{bg:o?"dark"===d?"blue.600":"blue.500":"dark"===d?"gray.700":"gray.100",color:o||"dark"===d?"white":"black",borderRadius:o?"lg 2px 2px lg":"2px lg lg 2px",boxShadow:"sm",children:(0,Y.jsx)(S.b,{py:2,px:3,children:(0,Y.jsx)(p.E,{children:r.text})})}),(0,Y.jsxs)(m.s,{justifyContent:o?"flex-end":"flex-start",alignItems:"center",mt:1,fontSize:"xs",color:"gray.500",children:[(0,Y.jsx)(q,{status:r.status,timestamp:r.timestamp}),r.offline&&(0,Y.jsx)(k.E,{ml:2,colorScheme:"yellow",size:"sm",children:"offline"}),null===(s=r.reactions)||void 0===s?void 0:s.map(((e,s)=>(0,Y.jsx)(z.vw,{size:"sm",ml:1,borderRadius:"full",variant:"solid",colorScheme:"blue",children:(0,Y.jsx)(z.d1,{children:e})},s))),"error"===r.status&&(0,Y.jsxs)(C.z,{ml:2,spacing:1,children:[(0,Y.jsx)(w.$,{size:"xs",colorScheme:"blue",onClick:e=>{e.stopPropagation(),a(r)},children:"Retry"}),(0,Y.jsx)(w.$,{size:"xs",colorScheme:"red",onClick:e=>{e.stopPropagation(),l(r)},children:"Delete"})]})]})]})})),Z=e=>{let{currentUser:s,selectedPeer:r,isAIChatActive:c,selectedAIModel:u,isAiInitialized:y,showSettings:S,setShowSettings:z,showTutorial:_,setShowTutorial:$,addNotification:F,theme:N,setTheme:U}=e;const H=(0,n.Zp)(),V=(0,v.d)(),{colorMode:G}=(0,f.G6)(),[K,q]=(0,t.useState)([]),[Z,J]=(0,t.useState)(""),[X,ee]=(0,t.useState)([]),[se,re]=(0,t.useState)(!1),[te,ne]=(0,t.useState)(null),[ae,ie]=(0,t.useState)({}),[le,oe]=(0,t.useState)(""),de=(0,t.useRef)(null),ce=(0,t.useRef)(null);const[ue,he]=(0,t.useState)([]),[xe,ge]=(0,t.useState)(""),[be,me]=(0,t.useState)(null),[pe,fe]=(0,t.useState)(null),[je,ye]=((0,t.useRef)(null),(0,t.useState)({visible:!1,language:"javascript",code:""})),[Se,ke]=(0,t.useState)(null),[ze,Ce]=(0,t.useState)(new Map),[we,ve]=(0,t.useState)(navigator.language.split("-")[0]),[Ie,Ee]=(0,t.useState)(!1),[Ae,Re]=(0,t.useState)(null),[De,Te]=(0,t.useState)(!0),[Me,We]=(0,t.useState)(!1),[Oe,Pe]=(0,t.useState)([]),[Le,_e]=(0,t.useState)(null),[$e,Fe]=(0,t.useState)("connected"),[Ne,Ue]=(0,t.useState)(!1),[He,Ve]=(0,t.useState)(["\ud83d\udc4d","\u2764\ufe0f","\ud83d\ude0a","\ud83d\ude02","\ud83d\udc4f","\ud83c\udf89","\ud83d\udd25","\ud83c\udf1f","\ud83c\udfa8","\ud83c\udfae"]),[Ge,Ke]=(0,t.useState)(!1),[Ye,Be]=(0,t.useState)(null),[qe,Qe]=(0,t.useState)(!0),[Ze,Je]=(0,t.useState)(!0),[Xe,es]=(0,t.useState)(new Map),[ss,rs]=(0,t.useState)(!1),[ts,ns]=(0,t.useState)(!0),[as,is]=(0,t.useState)({notifications:{enabled:!0,sound:!0},appearance:{theme:"dark",fontSize:"medium"},chat:{enterToSend:!0,readReceipts:!0},ai:{provider:"openai",apiKey:"",model:"gpt-3.5-turbo"},privacy:{encryptMessages:!0,autoDeleteMessages:!1}}),ls={hello:"Hello! I'm a basic chatbot. I can help you with simple tasks. Type 'help' to see what I can do.",hi:"Hi there! Need any help? Type 'help' to see what I can do.",help:"I can help you with:\n- Basic chat features\n- File sharing\n- Code sharing\n- Voice messages\nTo enable AI features, click the settings icon and configure your API key.","how are you":"I'm functioning well! How can I assist you today?",bye:"Goodbye! Have a great day!",features:"Current features:\n- Real-time messaging\n- File sharing\n- Code sharing\n- Voice messages\n- Reactions\nEnable AI for more advanced features!",ai:"To enable AI features, click the settings icon (\u2699\ufe0f) and configure your API key. This will unlock:\n- Smart replies\n- Message completion\n- Sentiment analysis\n- Language translation"},os=e=>{const s=e.toLowerCase().trim();for(const[r,t]of Object.entries(ls))if(s.includes(r))return t;return"I'm a basic chatbot. I can only understand simple commands. Type 'help' to see what I can do."},ds=e=>{if(!r)return;q((s=>s.map((s=>s.id===e.id?{...s,status:"sending"}:s))));const s=a.x.sendMessage(e,r);q(s?s=>s.map((s=>s.id===e.id?{...s,status:"sent",error:null}:s)):s=>s.map((s=>s.id===e.id?{...s,status:"error",error:"Failed to send message"}:s)))},cs=e=>{r&&(q((s=>s.map((s=>s.id===e.id?{...s,status:"read"}:s)))),a.x.sendReadReceipt(e.id,r))},us=e=>{q((s=>s.filter((s=>s.id!==e.id)))),!c&&r&&a.x.sendMessage({type:"DELETE_MESSAGE",messageId:e.id,sender:s.id,timestamp:(new Date).toISOString()},r)};(0,t.useEffect)((()=>{const e=JSON.parse(localStorage.getItem("user_profile"))||null;if(e)Re(e);else{var r;const e={displayName:`User-${null===s||void 0===s||null===(r=s.id)||void 0===r?void 0:r.substring(0,6)}`,avatarUrl:""};Re(e)}}),[null===s||void 0===s?void 0:s.id]);const hs=e=>{Re(e)},xs=(e,t)=>{const n={type:"REACTION",messageId:e,reaction:t,sender:s.id,timestamp:(new Date).toISOString()};q((s=>s.map((s=>s.id===e?{...s,reactions:[...s.reactions||[],t]}:s)))),!c&&r&&a.x.sendMessage(n,r)};(0,t.useEffect)((()=>{gs()}),[K]);const gs=()=>{var e;null===(e=de.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},bs=async e=>{if(e&&e.preventDefault(),!Z.trim())return;const t=(0,l.A)(),n=(new Date).toISOString(),o={id:t,text:Z,sender:s.id,timestamp:n,type:"CHAT",status:"sending"};if(q((e=>[...e,o])),J(""),ge(""),c){if(!y){if(ts){const e={type:"CHAT",text:os(Z),timestamp:(new Date).toISOString(),sender:"AI_ASSISTANT",id:(0,l.A)(),isAI:!0};q((s=>[...s,e]))}else F("Please configure AI settings first","error"),rs(!0);return}try{const e=await i.A.handleHelpQuery(Z);q((s=>[...s,e]))}catch(d){console.error("Error getting AI response:",d),F("Failed to get AI response","error"),d.message.includes("API key")&&rs(!0)}}else if(r){const e=a.x.sendMessage(o,r);q(e?e=>e.map((e=>e.id===t?{...e,status:"sent"}:e)):Ne&&De?e=>e.map((e=>e.id===t?{...e,status:"queued",offline:!0}:e)):e=>e.map((e=>e.id===t?{...e,status:"error",error:"Failed to send message"}:e))),r&&a.x.setTypingStatus(!1,r)}else if(Le){const e={...o,groupId:Le.id},s=a.x.sendMessage(e);q(s?e=>e.map((e=>e.id===t?{...e,status:"sent"}:e)):Ne&&De?e=>e.map((e=>e.id===t?{...e,status:"queued",offline:!0}:e)):e=>e.map((e=>e.id===t?{...e,status:"error",error:"Failed to send message"}:e)))}r&&a.x.setTypingStatus(!1,r)},ms=(0,t.useMemo)((()=>K.filter((e=>!le||e.text&&e.text.toLowerCase().includes(le.toLowerCase())))),[K,le]);(0,t.useMemo)((()=>(0,Y.jsx)("div",{className:"messages-list",children:ms.map((e=>(0,Y.jsx)(Q,{message:e,onReaction:s=>xs(e.id,s),onRetry:ds,onMarkAsRead:cs,onDelete:us},e.id)))})),[ms,xs,ds,cs,us]);return(0,Y.jsxs)(m.s,{direction:"column",h:"100vh",bg:"dark"===G?"gray.900":"gray.50",children:[(0,Y.jsxs)(m.s,{p:3,bg:"dark"===G?"gray.800":"gray.50",borderBottomWidth:"1px",borderBottomColor:"dark"===G?"gray.700":"gray.200",alignItems:"center",boxShadow:"sm",children:[(0,Y.jsx)(j.a,{children:(0,Y.jsxs)(m.s,{alignItems:"center",children:[(0,Y.jsx)(I.e,{size:"md",name:c?"AI":r||"User",bg:c?"purple.500":"blue.500",mr:3}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"md",children:c?"Echo AI Assistant":(null===Ae||void 0===Ae?void 0:Ae.displayName)||r||"Select a peer"}),(0,Y.jsxs)(m.s,{alignItems:"center",children:[(0,Y.jsx)(k.E,{colorScheme:c?"purple":"blue",variant:"subtle",fontSize:"xs",px:2,py:.5,borderRadius:"full",children:c?"\ud83e\udd16 AI Chat":"\ud83d\udc65 Peer Chat"}),!c&&ae[r]&&(0,Y.jsx)(p.E,{ml:2,fontSize:"xs",color:"gray.500",fontStyle:"italic",children:"typing..."})]})]})]})}),(0,Y.jsx)(A.h,{}),(0,Y.jsxs)(C.z,{spacing:1,children:[(0,Y.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>H("/dashboard"),colorScheme:"blue",borderRadius:"full",_hover:{bg:"dark"===G?"blue.800":"blue.50"},children:"Dashboard"}),(0,Y.jsx)(w.$,{variant:"ghost",size:"sm",onClick:()=>H("/github"),colorScheme:"blue",borderRadius:"full",_hover:{bg:"dark"===G?"blue.800":"blue.50"},children:"GitHub"}),(0,Y.jsx)(R.K,{"aria-label":"Settings",icon:"\u2699\ufe0f",variant:"ghost",borderRadius:"full",onClick:()=>z(!S)})]})]}),(0,Y.jsxs)(m.s,{flex:"1",overflow:"hidden",children:[(0,Y.jsx)(j.a,{w:"250px",bg:"dark"===G?"gray.800":"gray.50",p:4,borderRightWidth:"1px",borderRightColor:"dark"===G?"gray.700":"gray.200",overflowY:"auto",display:{base:"none",md:"block"},children:(0,Y.jsxs)(D.T,{spacing:4,align:"stretch",children:[(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Your ID"}),(0,Y.jsxs)(m.s,{bg:"dark"===G?"gray.700":"gray.50",p:2,borderRadius:"md",alignItems:"center",justifyContent:"space-between",borderWidth:"1px",borderColor:"dark"===G?"gray.600":"gray.200",children:[(0,Y.jsx)(p.E,{fontSize:"sm",fontFamily:"monospace",isTruncated:!0,children:(null===s||void 0===s?void 0:s.id)||"380b5d29-aed6-4904-891a-5d0a39b2e4df"}),(0,Y.jsx)(R.K,{"aria-label":"Copy ID",icon:"\ud83d\udccb",size:"xs",variant:"ghost",onClick:()=>{navigator.clipboard.writeText(null===s||void 0===s?void 0:s.id),V({title:"ID copied to clipboard",status:"success",duration:2e3})}})]})]}),(0,Y.jsxs)(j.a,{p:3,bg:"dark"===G?"gray.700":"blue.50",borderRadius:"md",borderWidth:"1px",borderColor:"dark"===G?"gray.600":"blue.100",children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Connect with Others"}),(0,Y.jsx)(p.E,{fontSize:"xs",mb:2,children:"1. Share your ID with friends"}),(0,Y.jsx)(p.E,{fontSize:"xs",mb:2,children:"2. Or enter their ID below to connect"}),(0,Y.jsx)(T.p,{placeholder:"Paste friend's ID here",size:"sm",mb:2,bg:"dark"===G?"gray.600":"white",borderColor:"dark"===G?"gray.500":"gray.300"}),(0,Y.jsx)(w.$,{colorScheme:"blue",size:"sm",width:"full",borderRadius:"md",children:"Connect"})]}),(0,Y.jsx)(M.c,{borderColor:"dark"===G?"gray.600":"gray.200"}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Welcome to Echo Link! \ud83d\udc4b"}),(0,Y.jsx)(p.E,{fontSize:"xs",mb:2,fontWeight:"medium",children:"To start chatting:"}),(0,Y.jsxs)(j.a,{fontSize:"xs",color:"dark"===G?"gray.300":"gray.600",children:[(0,Y.jsxs)(C.z,{mb:1,children:[(0,Y.jsx)(p.E,{children:"1."}),(0,Y.jsx)(p.E,{children:"Copy your ID using the button above"})]}),(0,Y.jsxs)(C.z,{mb:1,children:[(0,Y.jsx)(p.E,{children:"2."}),(0,Y.jsx)(p.E,{children:"Share it with your friends"})]}),(0,Y.jsxs)(C.z,{mb:1,children:[(0,Y.jsx)(p.E,{children:"3."}),(0,Y.jsx)(p.E,{children:"Ask them to paste it in their connect field"})]}),(0,Y.jsxs)(C.z,{mb:1,children:[(0,Y.jsx)(p.E,{children:"4."}),(0,Y.jsx)(p.E,{children:"Or paste their ID in your connect field"})]})]})]})]})}),(0,Y.jsx)(m.s,{flex:"1",direction:"column",p:4,overflowY:"auto",bg:"dark"===G?"gray.800":"gray.50",children:0===ms.length?(0,Y.jsxs)(m.s,{direction:"column",alignItems:"center",justifyContent:"center",textAlign:"center",height:"100%",children:[(0,Y.jsx)(j.a,{fontSize:"5xl",mb:4,bg:"dark"===G?"gray.700":"blue.50",p:5,borderRadius:"full",color:"dark"===G?"blue.200":"blue.500",children:"\ud83d\udc4b"}),(0,Y.jsx)(E.D,{size:"md",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Start a conversation"}),(0,Y.jsx)(p.E,{mb:4,color:"dark"===G?"gray.400":"gray.600",maxWidth:"400px",children:"Connect with someone to chat or try out the AI assistant. Your messages will appear here."}),(0,Y.jsxs)(C.z,{spacing:4,children:[(0,Y.jsx)(w.$,{colorScheme:"blue",borderRadius:"full",boxShadow:"md",leftIcon:"\ud83d\udc65",onClick:()=>{a.x.showConnectionDialog()},_hover:{transform:"translateY(-2px)",boxShadow:"lg"},transition:"all 0.2s",children:"Connect"}),(0,Y.jsx)(w.$,{colorScheme:"purple",borderRadius:"full",boxShadow:"md",leftIcon:"\ud83e\udd16",onClick:()=>H("/ai"),_hover:{transform:"translateY(-2px)",boxShadow:"lg"},transition:"all 0.2s",children:"Try AI Chat"})]})]}):(0,Y.jsxs)(D.T,{spacing:2,align:"stretch",children:[ms.map((e=>(0,Y.jsx)(Q,{message:e,onReaction:xs,onRetry:ds,onMarkAsRead:cs,onDelete:us},e.id))),(0,Y.jsx)("div",{ref:de})]})}),(0,Y.jsx)(j.a,{w:"280px",bg:"dark"===G?"gray.800":"gray.50",p:4,borderLeftWidth:"1px",borderLeftColor:"dark"===G?"gray.700":"gray.200",overflowY:"auto",display:{base:"none",lg:"block"},children:(0,Y.jsxs)(D.T,{spacing:4,align:"stretch",children:[r&&(0,Y.jsxs)(j.a,{p:3,bg:"dark"===G?"gray.700":"blue.50",borderRadius:"md",borderWidth:"1px",borderColor:"dark"===G?"gray.600":"blue.100",children:[(0,Y.jsx)(E.D,{size:"sm",mb:3,color:"dark"===G?"blue.200":"blue.600",children:"Contact Info"}),(0,Y.jsxs)(D.T,{align:"start",spacing:2,children:[(0,Y.jsxs)(C.z,{children:[(0,Y.jsx)(p.E,{fontSize:"xs",fontWeight:"bold",children:"Name:"}),(0,Y.jsx)(p.E,{fontSize:"xs",children:(null===Ae||void 0===Ae?void 0:Ae.displayName)||r})]}),(0,Y.jsxs)(C.z,{children:[(0,Y.jsx)(p.E,{fontSize:"xs",fontWeight:"bold",children:"Status:"}),(0,Y.jsx)(k.E,{colorScheme:"green",fontSize:"xs",children:"Online"})]}),(0,Y.jsxs)(C.z,{children:[(0,Y.jsx)(p.E,{fontSize:"xs",fontWeight:"bold",children:"ID:"}),(0,Y.jsx)(p.E,{fontSize:"xs",isTruncated:!0,children:r})]})]})]}),(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:2,textAlign:"center",children:(0,Y.jsx)(W.y,{size:"sm"})}),children:(0,Y.jsx)(h,{})}),(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:2,textAlign:"center",children:(0,Y.jsx)(W.y,{size:"sm"})}),children:(0,Y.jsx)(x,{onShareCode:()=>{if(!je.code.trim())return;const e={id:(0,l.A)(),type:"CODE_SHARE",code:je.code,language:je.language,sender:s.id,timestamp:Date.now(),workspaceId:(0,l.A)()};q((s=>[...s,e])),ye({...je,visible:!1,code:""}),c||a.x.sendMessage(e)}})}),(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:2,textAlign:"center",children:(0,Y.jsx)(W.y,{size:"sm"})}),children:(0,Y.jsx)(g,{onSendVoiceMessage:async e=>{if(!qe)return null;try{return await i.A.transcribeAudio(e)}catch(s){return console.error("Transcription error:",s),F("Failed to transcribe voice message","error"),null}}})}),(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:2,textAlign:"center",children:(0,Y.jsx)(W.y,{size:"sm"})}),children:(0,Y.jsx)(b,{onShareWhiteboard:(e,s)=>{const r=new FileReader;r.readAsDataURL(e),r.onloadend=()=>{const e=r.result,t={id:(0,l.A)(),sender:"user",text:`Shared whiteboard: ${s}`,timestamp:(new Date).toISOString(),type:"IMAGE",imageData:e};q((e=>[...e,t])),gs()}}})}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Quick Actions"}),(0,Y.jsxs)(D.T,{spacing:2,children:[(0,Y.jsx)(w.$,{leftIcon:"\ud83d\udcc1",colorScheme:"blue",variant:"outline",size:"sm",width:"full",justifyContent:"flex-start",onClick:()=>{var e;return null===(e=ce.current)||void 0===e?void 0:e.click()},borderRadius:"md",bg:"dark"===G?"gray.700":"blue.50",children:"Send a file"}),(0,Y.jsx)(w.$,{leftIcon:"\ud83d\udcbb",colorScheme:"purple",variant:"outline",size:"sm",width:"full",justifyContent:"flex-start",onClick:()=>ye({...je,visible:!0}),borderRadius:"md",bg:"dark"===G?"gray.700":"blue.50",children:"Share code"}),(0,Y.jsx)(w.$,{leftIcon:"\ud83d\udd04",colorScheme:"green",variant:"outline",size:"sm",width:"full",justifyContent:"flex-start",onClick:()=>rs(!0),borderRadius:"md",bg:"dark"===G?"gray.700":"blue.50",children:"AI settings"}),(0,Y.jsx)(w.$,{leftIcon:"\ud83d\udcca",colorScheme:"orange",variant:"outline",size:"sm",width:"full",justifyContent:"flex-start",onClick:()=>H("/dashboard"),borderRadius:"md",bg:"dark"===G?"gray.700":"blue.50",children:"View stats"})]})]}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Shared Media"}),(0,Y.jsxs)(O.x,{templateColumns:"repeat(3, 1fr)",gap:2,children:[ms.filter((e=>"FILE_META"===e.type)).slice(0,6).map(((e,s)=>(0,Y.jsxs)(j.a,{bg:"dark"===G?"gray.700":"blue.50",borderRadius:"md",p:2,textAlign:"center",children:[(0,Y.jsx)(p.E,{fontSize:"xl",children:"\ud83d\udcc4"}),(0,Y.jsx)(p.E,{fontSize:"xs",isTruncated:!0,children:e.name})]},s))),0===ms.filter((e=>"FILE_META"===e.type)).length&&(0,Y.jsx)(p.E,{fontSize:"xs",color:"gray.500",children:"No media shared yet"})]})]}),y&&(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Smart Suggestions"}),(0,Y.jsx)(D.T,{align:"stretch",spacing:2,children:ue.length>0?ue.map(((e,s)=>(0,Y.jsx)(w.$,{size:"xs",variant:"outline",colorScheme:"blue",onClick:()=>{J(e),setTimeout((()=>document.querySelector('input[placeholder="Type a message..."]').focus()),0)},children:e},s))):(0,Y.jsx)(p.E,{fontSize:"xs",color:"gray.500",children:"AI will suggest replies based on conversation context"})})]}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Recent Code Snippets"}),ms.filter((e=>"CODE_SHARE"===e.type)).length>0?ms.filter((e=>"CODE_SHARE"===e.type)).slice(0,2).map(((e,s)=>(0,Y.jsxs)(j.a,{bg:"dark"===G?"gray.700":"blue.50",borderRadius:"md",p:2,mb:2,fontSize:"xs",cursor:"pointer",onClick:()=>ye({visible:!0,language:e.language,code:e.code}),children:[(0,Y.jsxs)(m.s,{justifyContent:"space-between",mb:1,children:[(0,Y.jsx)(k.E,{colorScheme:"purple",children:e.language}),(0,Y.jsx)(p.E,{fontSize:"xs",children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Y.jsxs)(j.a,{bg:"dark"===G?"gray.600":"blue.100",p:1,borderRadius:"sm",fontFamily:"monospace",noOfLines:3,children:[e.code.substring(0,100),e.code.length>100&&"..."]})]},s))):(0,Y.jsx)(p.E,{fontSize:"xs",color:"gray.500",children:"No code snippets shared yet"})]}),(0,Y.jsxs)(j.a,{children:[(0,Y.jsx)(E.D,{size:"sm",mb:2,color:"dark"===G?"blue.200":"blue.600",children:"Search Messages"}),(0,Y.jsxs)(P.M,{size:"sm",children:[(0,Y.jsx)(T.p,{placeholder:"Search in conversation...",value:le,onChange:e=>oe(e.target.value),bg:"dark"===G?"gray.700":"blue.50",borderColor:"dark"===G?"gray.600":"blue.200",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"}}),(0,Y.jsx)(L.t,{children:"\ud83d\udd0d"})]})]}),(0,Y.jsx)(B,{})]})})]}),(0,Y.jsxs)(j.a,{p:3,bg:"dark"===G?"gray.800":"gray.50",borderTopWidth:"1px",borderTopColor:"dark"===G?"gray.700":"gray.200",children:[(0,Y.jsx)(m.s,{children:(0,Y.jsxs)(P.M,{size:"md",children:[(0,Y.jsx)(T.p,{placeholder:"Type a message...",value:Z,onChange:e=>{J(e.target.value)},onKeyPress:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),bs())},bg:"dark"===G?"gray.700":"blue.50",borderColor:"dark"===G?"gray.600":"blue.200",_focus:{borderColor:"blue.400",boxShadow:"0 0 0 1px blue.400"},borderRadius:"full",pr:"4.5rem"}),(0,Y.jsx)(L.t,{width:"4.5rem",children:(0,Y.jsx)(w.$,{h:"1.75rem",size:"sm",colorScheme:"blue",onClick:bs,isDisabled:!Z.trim(),borderRadius:"full",children:"Send"})})]})}),(0,Y.jsx)(m.s,{justifyContent:"flex-end",mt:2,children:(0,Y.jsx)(w.$,{size:"xs",variant:De?"solid":"outline",colorScheme:De?"green":"gray",onClick:()=>{const e=!De;Te(e),a.x.enablePersistence(e),F("Message persistence "+(e?"enabled":"disabled"),"info")},borderRadius:"full",children:De?"Persistence: On":"Persistence: Off"})})]}),ss?(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:4,children:"Loading settings..."}),children:(0,Y.jsx)(o,{onClose:()=>rs(!1),addNotification:F,currentUser:s})}):null,Ie?(0,Y.jsx)(t.Suspense,{fallback:(0,Y.jsx)(j.a,{p:4,children:"Loading profile..."}),children:(0,Y.jsx)(d,{currentUser:s,onClose:()=>Ee(!1),onProfileUpdate:hs})}):null,"connected"!==$e&&(0,Y.jsx)(j.a,{position:"fixed",bottom:"4",left:"50%",transform:"translateX(-50%)",bg:"reconnecting"===$e?"yellow.500":"red.500",color:"white",px:4,py:2,borderRadius:"full",boxShadow:"md",children:"reconnecting"===$e?"Reconnecting...":"Connection error. Working offline."}),(0,Y.jsxs)(j.a,{position:"fixed",bottom:"2",right:"2",fontSize:"xs",color:"dark"===G?"gray.500":"gray.600",textAlign:"right",zIndex:"1",children:[(0,Y.jsxs)(p.E,{children:["Enhanced by ",(0,Y.jsx)(p.E,{as:"span",fontWeight:"bold",children:"SREE VARSHAN V"})]}),(0,Y.jsx)(p.E,{children:(0,Y.jsx)("a",{href:"https://github.com/sreevarshan-xenoz",target:"_blank",rel:"noopener noreferrer",style:{textDecoration:"underline"},children:"github.com/sreevarshan-xenoz"})})]})]})}},80210:(e,s,r)=>{r.d(s,{h:()=>a});r(65043);var t=r(25011),n=r(70579);const a=e=>{let{icon:s,size:r,color:a,mr:i,ml:l,...o}=e;return(0,n.jsx)(t.I,{as:s,boxSize:r,color:a,mr:i,ml:l,...o})}}}]);
//# sourceMappingURL=722.0f090d27.chunk.js.map